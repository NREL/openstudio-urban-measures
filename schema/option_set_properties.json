{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://json-schema.org/openstudio-urban-modeling/building_properties.json#",
  "title": "Building object",
  "description": "Schema for a Building object",
  "type": "object",
  "properties": {
    "id": {
      "FIXME": "may be there, type not known (string? number?)",
      "description": "Unique id used to refer to this feature within this dataset, generated by database.",
      "type": "string"
    },
    "project_id": {
      "description": "Project which this feature belongs to, managed by the database.",
      "type": "string"
    },
    "created_at": {
      "description": "Generated by database, YYYY-MM-DDTHH:MM:SS.SSSZ",
      "type": "string"
    },
    "updated_at": {
      "description": "Generated by database, YYYY-MM-DDTHH:MM:SS.SSSZ",
      "type": "string"
    },
    "name": {
      "description": "Option name",
      "type": "string"
    },
    "type": {
      "description": "Type of feature.",
      "type": "string",
      "enum": [
        "Building",
        "Taxlot",
        "Region",
        "District System"
      ]
    },
    "building_type": {
      "$ref": "#/definitions/buildingType"
    },
    "district_system_type": {
      "$ref": "#/definitions/districtSystemType"
    },
    "options": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/option"
      }
    }
  },
  "required": [
    "type",
    "options"
  ],
  "additionalProperties": false,
  "definitions": {
    "buildingType": {
      "description": "Overall building space type. Fixed parameter.",
      "type": "string",
      "enum": [
        "Single-Family",
        "Multifamily (2 to 4 units)",
        "Multifamily (5 or more units)",
        "Mobile Home",
        "Vacant",
        "Office",
        "Laboratory",
        "Nonrefrigerated warehouse",
        "Food sales",
        "Public order and safety",
        "Outpatient health care",
        "Refrigerated warehouse",
        "Religious worship",
        "Public assembly",
        "Education",
        "Food service",
        "Inpatient health care",
        "Nursing",
        "Lodging",
        "Strip shopping mall",
        "Enclosed mall",
        "Retail other than mall",
        "Service",
        "Mixed use"
      ]
    },
    "districtSystemType": {
      "type": "string",
      "enum": [
        "Central Chilled Water",
        "Central Hot Water",
        "Central Ambient Water",
        "Community Photovoltaic"
      ]
    },
    "cost": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "number"
        },
        "type": {
          "type": "string",
          "enum": [
            "Fixed cost",
            "Cost per floor area",
            "Cost per wall area",
            "Cost per window area",
            "Cost per roof area",
            "Cost per heating kW",
            "Cost per cooling kW",
            "Cost per photovoltaic kW"
          ]
        }
      },
      "required": [
        "name",
        "value",
        "type"
      ],
      "additionalProperties": false
    },
    "option": {
      "type": "object",
      "additionalProperties": false,
      "oneOf": [
        {
          "$ref": "#/definitions/buildingOption"
        },
        {
          "$ref": "#/definitions/centralChilledWaterOption"
        },
        {
          "$ref": "#/definitions/centralHotWaterOption"
        }
      ]
    },
    "buildingOption": {
      "type": "object",
      "properties": {
        "structure_type": {
          "description": "The predominant construction method used to build the structure. Smart defaulted if not set.  Variable parameter.",
          "type": "string",
          "enum": [
            "Reinforced Masonry",
            "Unreinforced Masonry",
            "Steel Framed",
            "Wood Framed"
          ]
        },
        "window_to_wall_south": {
          "description": "Ratio of south exterior window area to exterior wall area. Variable parameter.",
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "exclusiveMaximum": true
        },
        "window_to_wall_east": {
          "description": "Ratio of east exterior window area to exterior wall area. Variable parameter.",
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "exclusiveMaximum": true
        },
        "window_to_wall_west": {
          "description": "Ratio of west exterior window area to exterior wall area. Variable parameter.",
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "exclusiveMaximum": true
        },
        "window_to_wall_north": {
          "description": "Ratio of north exterior window area to exterior wall area. Variable parameter.",
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "exclusiveMaximum": true
        },
        "envelope_performance": {
          "description": "Variable parameter.",
          "type": "string",
          "enum": [
            "Standard",
            "High Performance"
          ]
        },
        "hvac_performance": {
          "description": "Variable parameter.",
          "type": "string",
          "enum": [
            "Standard",
            "High Performance"
          ]
        },
        "lighting_performance": {
          "description": "Variable parameter.",
          "type": "string",
          "enum": [
            "Standard",
            "High Performance"
          ]
        },
        "internal_gains_performance": {
          "description": "Variable parameter.",
          "type": "string",
          "enum": [
            "Standard",
            "High Performance"
          ]
        },
        "radiant_system": {
          "description": "Variable parameter.",
          "type": "boolean"
        },
        "cooling_source ": {
          "description": "Variable parameter.",
          "type": "string",
          "enum": [
            "Electric",
            "Chilled Water",
            "Ambient Water Loop"
          ]
        },
        "heating_source ": {
          "description": "Variable parameter.",
          "type": "string",
          "enum": [
            "Gas",
            "Electric",
            "Hot Water",
            "Ambient Water Loop"
          ]
        },
        "rooftop_photovoltaics": {
          "description": "Size of the photovoltaic system in kW. Variable parameter.",
          "type": "string",
          "enum": [
            "Minimum",
            "Medium",
            "Maximum"
          ]
        },
        "costs": {
          "description": "Variable parameter.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/cost"
          }
        }
      },
      "required": [
        "structure_type",
        "window_to_wall_south",
        "window_to_wall_east",
        "window_to_wall_west",
        "window_to_wall_north",
        "envelope_performance",
        "hvac_performance",
        "lighting_performance",
        "internal_gains_performance",
        "radiant_system",
        "cooling_source ",
        "heating_source ",
        "rooftop_photovoltaics",
        "costs"
      ],
      "additionalProperties": false
    },
    "centralChilledWaterOption": {
      "type": "object",
      "properties": {
        "costs": {
          "description": "Variable parameter.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/cost"
          }
        }
      },
      "required": [
        "costs"
      ],
      "additionalProperties": false
    },
    "centralHotWaterOption": {
      "type": "object",
      "properties": {
        "costs": {
          "description": "Variable parameter.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/cost"
          }
        }
      },
      "required": [
        "costs"
      ],
      "additionalProperties": false
    }
  }
}